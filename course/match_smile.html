<html>

<head>
    <title>Matching Game</title>
    <style>
        img {
            position: absolute;
        }
        
        div {
            position: absolute;
            width: 500px;
            height: 500px;
        }
        
        #rightSide {
            left: 500px;
            border-left: 1px solid black
        }
    </style>
</head>

<body>

    <h1><a href="https://www.coursera.org/learn/html-css-javascript/peer/dwdxh/matching-game"> Matching Smile Game</a></h1>
    <nav>Click on the extra smiling face on the left.</nav>

    <main>
        <div id="leftSide"></div>
        <div id="rightSide"></div>
    </main>
    <script>
        var number_of_face = 5;
        var the_leftSide = document.getElementById('leftSide');
        var the_rightSide = document.getElementById('rightSide');

        function generateFaces() {
            var smile_img;

            for (var i = 0; i < number_of_face; i++) {
                smile_img = document.createElement('img');
                smile_img.src = "smile.png";
                var top_position = Math.floor(Math.random() * 400) + 'px';
                var left_position = Math.floor(Math.random() * 400) + 'px';
                smile_img.style.top = top_position;
                smile_img.style.left = left_position;

                the_leftSide.appendChild(smile_img);
            }
            var leftSideImages = the_leftSide.cloneNode(true);
            leftSideImages.removeChild(leftSideImages.lastChild);
            the_rightSide.appendChild(leftSideImages);
        }
        generateFaces();
        var theBody = document.getElementsByTagName('body')[0];
        //Add an event handler function to the extra face
        the_leftSide.lastChild.onclick = function nextLevel(event) {

            event.stopPropagation();
            number_of_face += 3;
            while (the_leftSide.firstChild) {
                the_leftSide.removeChild(the_leftSide.firstChild);
            }
            while (the_rightSide.firstChild) {
                the_rightSide.removeChild(the_rightSide.firstChild);
            }

            generateFaces();
        }

        //Game over
        theBody.onclick = function gameOver() {
            alert('Game over!');
            theBody.onclick = null;
            the_leftSide.lastChild.onclick = null;
        }
    </script>
</body>

</html>